<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist de Peças</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --background-color: #f8fafc;
            --secondary-bg: #ffffff;
            --text-color: #1e293b;
            --border-color: #e2e8f0;
            --success-color: #10b981;
            --warning-color: #f59e0b;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            background-color: var(--secondary-bg);
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
        }

        h1 {
            margin: 0;
            font-size: 1.875rem;
            font-weight: 700;
            color: var(--text-color);
            background: linear-gradient(45deg, #2563eb, #1d4ed8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo {
            max-width: 120px;
            height: auto;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-bottom: 2rem;
            background-color: var(--secondary-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: #f8fafc;
            font-weight: 600;
            color: var(--text-color);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background-color: #f1f5f9;
        }

        .button-container {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-bottom: 2rem;
        }

        button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
        }

        button.primary {
            background: linear-gradient(45deg, #2563eb, #1d4ed8);
            box-shadow: 0 2px 4px rgba(37, 99, 235, 0.2);
        }

        button.secondary {
            background: linear-gradient(45deg, #64748b, #475569);
            box-shadow: 0 2px 4px rgba(100, 116, 139, 0.2);
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3);
        }

        select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: white;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        select:hover {
            border-color: var(--primary-color);
        }

        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        #relatorio {
            background-color: var(--secondary-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        #relatorio h2 {
            color: var(--text-color);
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        #relatorio ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #relatorio li {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }

        #relatorio li:last-child {
            border-bottom: none;
        }

        #relatorio li strong {
            color: var(--primary-color);
        }

        select option {
            padding: 0.5rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header {
                flex-direction: column;
                text-align: center;
                padding: 1rem;
            }

            .button-container {
                flex-direction: column;
            }

            button {
                width: 100%;
            }

            table {
                font-size: 0.875rem;
            }

            th, td {
                padding: 0.75rem;
            }
        }

        .status-possui {
            color: var(--success-color);
        }

        .status-nao-possui {
            color: var(--warning-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Checklist de Peças</h1>
            <img src="LOGO FUNDO TRANSPARENTE.png" alt="Logo Skina Ecopeças" class="logo">
        </div>

        <table>
            <thead>
                <tr>
                    <th>Peça</th>
                    <th>Possui?</th>
                </tr>
            </thead>
            <tbody id="checklist-body">
            </tbody>
        </table>

        <div class="button-container">
            <button onclick="gerarRelatorio()" class="primary">
                Gerar Relatório
            </button>
            <button onclick="baixarRelatorio('txt')" class="secondary">
                Baixar como TXT
            </button>
            <button onclick="baixarRelatorio('pdf')" class="primary">
                Baixar como PDF
            </button>
        </div>

        <div id="relatorio"></div>
    </div>

    <script>
        const pecas = [
            'capô',
            'Farol Direito',
            'Farol Esquerdo',
            'Parachoque Dianteiro',
            'Grade',
            'Painel Frontal',
            'Radiador',
            'Radiador Cambio',
            'Condensador',
            'Ventoinha',
            'Sensores',
            'fechadura capô',
            'Acabamento painel Frontal',
            'paralama Direito',
            'Paralama Esquerdo',
            'Acabamento Paralama Direito',
            'Acabamento Paralama Esquerdo',
            'Parabarro Direito',
            'Parabarro Esquerdo',
            'Roda',
            'Chicote Motor',
            'Chicote Carroceria frontal',
            'Mangueira Radiador',
            'Intercooler',
            'Amortecedor Dianteiro Direito',
            'Amortecedor Dianteiro Esquerdo',
            'Amortecedor Traseiro Direito',
            'Amortecedor Trasiero Esquerdo',
            'Molas Dianteiras',
            'Molas traseiras',
            'Eixo Traseiro',
            'Tambor de Freio Direito',
            'Tambor de Freio Esquerdo',
            'Manga de Eixo Direita',
            'Manga de Eixo Esquerda',
            'Pinça de Freio Dianteira Direita',
            'Pinça de Freio Dianteira Esquerda',
            'Pinça De Freio Traseira Direita',
            'Pinça de Freio Traseira Esquerda',
            'Semi Eixo Dianteiro Direito',
            'Semi Eixo Dianteiro Esquerdo',
            'Semi Eixo Traseiro Direito',
            'Semi Eixo Traseiro Esquerdo',
            'Diferencial Dianteiro',
            'Diferencial Traseiro',
            'Cambio',
            'Seletora Cambio',
            'Modulo Cambio',
            'Agregado',
            'Balança Dianteira Direita',
            'Balança Dianteira Esquerda',
            'Balança Traseira Direita',
            'Balança Traseira Esquerda',
            'Barra estabilizadora',
            'Bieletas',
            'Disco de Freio',
            'Coxim Inferior',
            'Coxim Cambio',
            'Coxim Motor',
            'Catalizador',
            'Coletor Escape',
            'Coletor',
            'Turbina',
            'Mangueira Turbina',
            'Caixa Filtro de Ar',
            'Duto Caixa Filtro Ar',
            'Sensor de fluxo',
            'Sonda Lambda',
            'Sensor de oxigenio',
            'Silenciador Escapamento'
        ];

        const checklistBody = document.getElementById('checklist-body');

        pecas.forEach(peca => {
            const row = document.createElement('tr');
            const pecaCell = document.createElement('td');
            pecaCell.textContent = peca;
            const possuiCell = document.createElement('td');
            const select = document.createElement('select');
            const optionNao = document.createElement('option');
            optionNao.value = 'Nao';
            optionNao.textContent = 'Não Possui';
            const optionSim = document.createElement('option');
            optionSim.value = 'Sim';
            optionSim.textContent = 'Possui';
            select.appendChild(optionNao);
            select.appendChild(optionSim);

            select.addEventListener('change', function() {
                if (this.value === 'Sim') {
                    const observacao = prompt(`Insira uma observação para a peça: ${peca}`);
                    this.setAttribute('data-observacao', observacao || 'Sem observação');
                    this.classList.remove('status-nao-possui');
                    this.classList.add('status-possui');
                } else {
                    this.removeAttribute('data-observacao');
                    this.classList.remove('status-possui');
                    this.classList.add('status-nao-possui');
                }
            });

            select.classList.add('status-nao-possui');
            possuiCell.appendChild(select);
            row.appendChild(pecaCell);
            row.appendChild(possuiCell);
            checklistBody.appendChild(row);
        });

        function gerarRelatorio() {
            const relatorioDiv = document.getElementById('relatorio');
            relatorioDiv.innerHTML = '<h2>Relatório de Checklist</h2>';
            let relatorioHTML = '<ul>';
            const rows = checklistBody.querySelectorAll('tr');
            rows.forEach(row => {
                const peca = row.cells[0].textContent;
                const select = row.cells[1].querySelector('select');
                const possui = select.value;
                const observacao = select.getAttribute('data-observacao') || 'Sem observação';
                relatorioHTML += `<li><strong>${peca}:</strong> ${possui} - Observação: ${observacao}</li>`;
            });
            relatorioHTML += '</ul>';
            relatorioDiv.innerHTML += relatorioHTML;
        }

        function baixarRelatorio(tipo) {
            let relatorio = 'Checklist de Peças:\n\n';
            const rows = checklistBody.querySelectorAll('tr');
            rows.forEach(row => {
                const peca = row.cells[0].textContent;
                const select = row.cells[1].querySelector('select');
                const possui = select.value;
                const observacao = select.getAttribute('data-observacao') || 'Sem observação';
                relatorio += `${peca}: ${possui} - Observação: ${observacao}\n`;
            });

            if (tipo === 'txt') {
                const blob = new Blob([relatorio], { type: 'text/plain;charset=utf-8' });
                saveAs(blob, 'relatorio_checklist.txt');
            } else if (tipo === 'pdf') {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                doc.setFont("helvetica");
                doc.setFontSize(16);
                doc.text("Checklist de Peças", 20, 20);
                doc.setFontSize(12);
                const linhas = relatorio.split('\n');
                let yPos = 30;
                linhas.forEach(linha => {
                    if (yPos > 280) {
                        doc.addPage();
                        yPos = 20;
                    }
                    const splitText = doc.splitTextToSize(linha, 170);
                    splitText.forEach(textLine => {
                        doc.text(textLine, 20, yPos);
                        yPos += 7;
                    });
                });
                doc.save('relatorio_checklist.pdf');
            }
        }
    </script>
</body>
</html>
